<!DOCTYPE html>
<html>
  <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs='detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
      <a-marker type='barcode' value='2'>
        <a-text id="dataConfirmed"
        anchor="center"
        align="center"
        position="-1.253 0.256 -0.742"
        rotation="-79.569 -7.673 5.599"
        font="dejavu"></a-text>

        <a-text id="dataActive"
        anchor="center"
        align="center"
        position="-1.373 0.256 0.742"
        rotation="-79.57 -7.674 5.6"
        font="dejavu"></a-text>

        <a-text id="dataRecovered"
        anchor="center"
        align="center"
        position="1.250 0.256 -0.742"
        rotation="-79.57 -7.674 5.6"
        font="dejavu"></a-text>

        <a-text id="dataDeaths"
        anchor="center"
        align="center"
        position="1.251 0.256 0.742"
        rotation="-79.075 -12.359 11.619"
        font="dejavu"></a-text>

        <a-entity
        gltf-model="url(/assets/Indonesia/scene.gltf)"
        position="0.063 0 0"
        scale="0.02 0.02 0.02"></a-entity>
      </a-marker>

      <a-marker type='barcode' value='4'>
        <a-entity
        gltf-model="url(/assets/Covid/scene.gltf)"
        position="0 0 -0.500"
        scale="0.3 0.3 0.3"
        rotation="0 -90.000 90.000"></a-entity>
      </a-marker>

      <a-marker type='barcode' value='6'>
        <a-entity
        animation-mixer="clip: *;"
        gltf-model="url(/assets/Doctor/scene.gltf)"
        position="0 0.031 0.440"
        scale="3 3 3"
        rotation="-72.875 113.956 -113.947"></a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      async function loadData() {
        let url = 'https://corona.coollabs.work/country/indonesia';
        let obj = await (await fetch(url)).json();

        $("#dataConfirmed").attr("value", "Kasus : "+obj.Confirmed);
        $("#dataActive").attr("value", "Dirawat : "+obj.Active);
        $("#dataRecovered").attr("value", "Sembuh : "+obj.Recovered);
        $("#dataDeaths").attr("value", "Meninggal : "+obj.Deaths);
      }
      loadData();
    </script>
  </body>
</html>